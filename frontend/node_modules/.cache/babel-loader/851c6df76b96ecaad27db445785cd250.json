{"ast":null,"code":"import _regeneratorRuntime from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Image from\"../../components/image/Image\";import Title from\"../../components/title/Title\";import MediumText from\"../../components/description/Description\";import{getProductById}from\"../../API-services/product\";import{EntityVariant as Variant}from\"../../components/Entity\";var Detail=function Detail(props){var isMounted=true;var _useState=useState({id:\"\",logo:\"\",name:\"\",description:\"\",images:[],variants:[]}),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var fetchProduct=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(productId){var response,productData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getProductById(productId);case 3:response=_context.sent;productData=response.data.data.product;if(isMounted){setProduct(productData);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchProduct(_x){return _ref.apply(this,arguments);};}();useEffect(function(){fetchProduct(props.match.params.productId);return function cleanup(){isMounted=false;};},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:30}},\"Product Detail\"),/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"1px solid #ddd\"}},/*#__PURE__*/React.createElement(Image,{imageUrl:product.logo.url}),/*#__PURE__*/React.createElement(Title,null,product.name),/*#__PURE__*/React.createElement(MediumText,{style:{fontWeight:\"bold\"}},\"Description:\"),/*#__PURE__*/React.createElement(MediumText,{style:{marginBottom:\"16px\"}},product.description)),/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:32}},\"Attached Images:\"),/*#__PURE__*/React.createElement(\"div\",{style:{paddingBottom:16,display:\"flex\",flexWrap:\"wrap\",borderBottom:\"1px solid #ddd\"}},product.images.map(function(image,index){return/*#__PURE__*/React.createElement(Image,{key:index,imageUrl:image.url,style:{marginRight:16,border:\"1px solid #ddd\"}});})),/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:32}},\"Variant:\"),/*#__PURE__*/React.createElement(\"div\",null,product.variants.map(function(variant,index){return/*#__PURE__*/React.createElement(Variant,{key:index,name:variant.name,size:variant.size,color:variant.color});})));};export default Detail;","map":{"version":3,"sources":["/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/src/pages/ProductDetail/index.jsx"],"names":["React","useState","useEffect","Image","Title","MediumText","getProductById","EntityVariant","Variant","Detail","props","isMounted","id","logo","name","description","images","variants","product","setProduct","fetchProduct","productId","response","productData","data","console","error","match","params","cleanup","fontSize","borderBottom","url","fontWeight","marginBottom","marginTop","paddingBottom","display","flexWrap","map","image","index","marginRight","border","variant","size","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Image from \"../../components/image/Image\";\nimport Title from \"../../components/title/Title\";\nimport MediumText from \"../../components/description/Description\";\nimport { getProductById } from \"../../API-services/product\";\nimport {EntityVariant as Variant} from \"../../components/Entity\";\n\nconst Detail = (props) => {\n  let isMounted = true\n  let [product, setProduct] = useState({\n    id: \"\",\n    logo: \"\",\n    name: \"\",\n    description: \"\",\n    images: [],\n    variants: [],\n  });\n\n  const fetchProduct = async (productId) => {\n    try {\n      let response = await getProductById(productId);\n      let productData = response.data.data.product;\n      if (isMounted) {\n        setProduct(productData);\n      }\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchProduct(props.match.params.productId);\n\n    return function cleanup() {\n      isMounted = false\n    }\n  }, []);\n  return (\n    <>\n      <h1 style={{ fontSize: 30 }}>Product Detail</h1>\n      <div style={{ borderBottom: \"1px solid #ddd\" }}>\n        <Image imageUrl={product.logo.url} />\n        <Title>{product.name}</Title>\n        <MediumText style={{ fontWeight: \"bold\" }}>Description:</MediumText>\n        <MediumText style={{ marginBottom: \"16px\" }}>\n          {product.description}\n        </MediumText>\n      </div>\n      <h2 style={{ marginTop: 32 }}>Attached Images:</h2>\n      <div\n        style={{\n          paddingBottom: 16,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          borderBottom: \"1px solid #ddd\",\n        }}\n      >\n        {product.images.map((image, index) => {\n          return (\n            <Image\n              key={index}\n              imageUrl={image.url}\n              style={{ marginRight: 16, border: \"1px solid #ddd\" }}\n            />\n          );\n        })}\n      </div>\n      <h2 style={{ marginTop: 32 }}>Variant:</h2>\n      <div>\n        {product.variants.map((variant, index) => {\n          return (\n            <Variant key={index} name={variant.name} size={variant.size} color={variant.color}/>\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}