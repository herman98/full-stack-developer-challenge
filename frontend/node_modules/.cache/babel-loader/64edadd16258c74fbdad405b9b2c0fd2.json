{"ast":null,"code":"import _regeneratorRuntime from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Image from\"../../components/image/Image\";import Title from\"../../components/title/Title\";import MediumText from\"../../components/description/Description\";import{getVariantById}from\"../../API-services/variant\";import{getProductById}from\"../../API-services/product\";// import Variant from \"../../components/Entity\";\nvar Detail=function Detail(props){var isMounted=true;var _useState=useState({id:\"\",name:\"\",size:\"\",color:\"\",product_id:\"\",images:[]}),_useState2=_slicedToArray(_useState,2),variant=_useState2[0],setVariant=_useState2[1];var _useState3=useState({id:\"\",name:\"\",description:\"\"}),_useState4=_slicedToArray(_useState3,2),product=_useState4[0],setProduct=_useState4[1];var fetchVariant=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(variantId){var response,variantData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return getVariantById(variantId);case 3:response=_context.sent;fetchProduct(response.data.data.variant.product_id);// console.log(\"variant.product_id: \"+ response.data.data.variant.product_id)\nvariantData=response.data.data.variant;setVariant(variantData);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function fetchVariant(_x){return _ref.apply(this,arguments);};}();var fetchProduct=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(productId){var response,productData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return getProductById(productId);case 3:response=_context2.sent;productData=response.data.data.product;setProduct(productData);_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);console.error(_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function fetchProduct(_x2){return _ref2.apply(this,arguments);};}();useEffect(function(){fetchVariant(props.match.params.variantId);return function cleanup(){isMounted=false;};},[]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h1\",{style:{fontSize:30}},\"Variant Detail\"),/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"1px solid #ddd\"}},/*#__PURE__*/React.createElement(MediumText,{style:{fontWeight:\"bold\"}},\"Product ID:\"),/*#__PURE__*/React.createElement(Title,null,product.id,\", \",product.name)),/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"1px solid #ddd\"}},/*#__PURE__*/React.createElement(MediumText,{style:{fontWeight:\"bold\"}},\"Variant Name:\"),/*#__PURE__*/React.createElement(\"h2\",null,variant.name)),/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"1px solid #ddd\"}},/*#__PURE__*/React.createElement(MediumText,{style:{fontWeight:\"bold\"}},\"Size:\"),/*#__PURE__*/React.createElement(\"h2\",null,variant.size)),/*#__PURE__*/React.createElement(\"div\",{style:{borderBottom:\"1px solid #ddd\"}},/*#__PURE__*/React.createElement(MediumText,{style:{fontWeight:\"bold\"}},\"Color:\"),/*#__PURE__*/React.createElement(\"h2\",null,variant.color)),/*#__PURE__*/React.createElement(\"h2\",{style:{marginTop:32}},\"Attached Images:\"),/*#__PURE__*/React.createElement(\"div\",{style:{paddingBottom:16,display:\"flex\",flexWrap:\"wrap\",borderBottom:\"1px solid #ddd\"}},variant.images.map(function(image,index){return/*#__PURE__*/React.createElement(Image,{key:index,imageUrl:image.url,style:{marginRight:16,border:\"1px solid #ddd\"}});})));};export default Detail;","map":{"version":3,"sources":["/home/herman3g/learn/sourcesage/full-stack-developer-challenge/frontend/src/pages/VariantDetail/index.jsx"],"names":["React","useState","useEffect","Image","Title","MediumText","getVariantById","getProductById","Detail","props","isMounted","id","name","size","color","product_id","images","variant","setVariant","description","product","setProduct","fetchVariant","variantId","response","fetchProduct","data","variantData","console","error","productId","productData","match","params","cleanup","fontSize","borderBottom","fontWeight","marginTop","paddingBottom","display","flexWrap","map","image","index","url","marginRight","border"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Image from \"../../components/image/Image\";\nimport Title from \"../../components/title/Title\";\nimport MediumText from \"../../components/description/Description\";\nimport { getVariantById } from \"../../API-services/variant\";\nimport { getProductById } from \"../../API-services/product\";\n// import Variant from \"../../components/Entity\";\n\nconst Detail = (props) => {\n  let isMounted = true\n  let [variant, setVariant] = useState({\n      id: \"\",\n      name: \"\",\n      size: \"\",\n      color: \"\",\n      product_id: \"\",\n      images: [],\n    },\n  );\n  let [product, setProduct] = useState({\n    id: \"\",\n    name: \"\",\n    description: \"\",\n  });\n\n  const fetchVariant = async (variantId) => {\n    try {\n      let response = await getVariantById(variantId);\n      fetchProduct(response.data.data.variant.product_id)\n      // console.log(\"variant.product_id: \"+ response.data.data.variant.product_id)\n      \n      let variantData = response.data.data.variant;\n      setVariant(variantData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  const fetchProduct = async (productId) => {\n    try {\n      let response = await getProductById(productId);\n      let productData = response.data.data.product;\n      setProduct(productData);\n    } catch (error) {\n      console.error(error);\n    }\n  };\n\n  useEffect(() => {\n    fetchVariant(props.match.params.variantId);\n    \n    return function cleanup() {\n      isMounted = false\n    }\n  }, []);\n  return (\n    <>\n      <h1 style={{ fontSize: 30 }}>Variant Detail</h1>\n      <div style={{ borderBottom: \"1px solid #ddd\" }}>\n        <MediumText style={{ fontWeight: \"bold\" }}>Product ID:</MediumText>\n        <Title>{product.id}, {product.name}</Title>\n      </div>\n      <div style={{ borderBottom: \"1px solid #ddd\" }}>\n        <MediumText style={{ fontWeight: \"bold\" }}>Variant Name:</MediumText>\n        <h2>{variant.name}</h2>\n      </div>\n      <div style={{ borderBottom: \"1px solid #ddd\" }}>\n        <MediumText style={{ fontWeight: \"bold\" }}>Size:</MediumText>\n        <h2>{variant.size}</h2>\n      </div>\n      <div style={{ borderBottom: \"1px solid #ddd\" }}>\n        <MediumText style={{ fontWeight: \"bold\" }}>Color:</MediumText>\n        <h2>{variant.color}</h2>\n      </div>\n      <h2 style={{ marginTop: 32 }}>Attached Images:</h2>\n      <div\n        style={{\n          paddingBottom: 16,\n          display: \"flex\",\n          flexWrap: \"wrap\",\n          borderBottom: \"1px solid #ddd\",\n        }}\n      >\n        {variant.images.map((image, index) => {\n          return (\n            <Image\n              key={index}\n              imageUrl={image.url}\n              style={{ marginRight: 16, border: \"1px solid #ddd\" }}\n            />\n          );\n        })}\n      </div>\n    </>\n  );\n};\n\nexport default Detail;\n"]},"metadata":{},"sourceType":"module"}