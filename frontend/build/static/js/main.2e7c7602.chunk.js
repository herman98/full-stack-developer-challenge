(this["webpackJsonpquick-cms"]=this["webpackJsonpquick-cms"]||[]).push([[0],{170:function(e,t,a){e.exports=a(319)},175:function(e,t,a){},176:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},319:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(14),o=a.n(c),l=(a(175),a(7)),i=a(39),u=a(34),s=(a(176),a(71),a(321)),p=a(324),m=a(330),d=a(331),f=a(329),v=a(59),b=a(5),h=a.n(b),g=a(6),E=a(322),y=a(326),O=a(320),j=a(64),x=a(147),k=a.n(x).a.create({baseURL:"http://localhost:80",timeout:1e4,headers:{"Content-type":"application/json"}});function w(e){return I.apply(this,arguments)}function I(){return(I=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.post("/api/image",t),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function C(){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(h.a.mark((function e(){var t,a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:10,e.prev=2,n=k.get("/api/images?page=".concat(t,"&per_page=").concat(a)),e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function U(e){return F.apply(this,arguments)}function F(){return(F=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.get("/api/image/".concat(t)),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function _(e,t){return q.apply(this,arguments)}function q(){return(q=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.put("/api/image/".concat(t),a),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var z=a(323);function L(){z.a.success({title:"Success",content:"The data have been submitted successfully"})}function P(){z.a.error({title:"Failed",content:"Failed to submit the data"})}function B(e){return D.apply(this,arguments)}function D(){return(D=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.post("/api/product",t),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function N(){return W.apply(this,arguments)}function W(){return(W=Object(g.a)(h.a.mark((function e(){var t,a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:10,e.prev=2,n=k.get("/api/products?page=".concat(t,"&per_page=").concat(a)),e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function V(e){return A.apply(this,arguments)}function A(){return(A=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.get("/api/product/".concat(t)),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function T(e,t){return M.apply(this,arguments)}function M(){return(M=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.put("/api/product/".concat(t),a),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var $={span:8},H={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},R={required:"${label} is required!"},J=function(e){var t=!0,a=e.match.params.productId,c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(!1),p=Object(l.a)(s,2),m=p[0],d=p[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),x=b[0],k=b[1],w=Object(n.useState)(""),I=Object(l.a)(w,2),S=I[0],U=I[1],F=Object(n.useState)(""),_=Object(l.a)(F,2),q=_[0],z=_[1],D=E.a.useForm(),N=Object(l.a)(D,1)[0],W=function(){var e=Object(g.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),t={name:x,logo_id:S,description:q},e.prev=2,n={},!a){e.next=10;break}return e.next=7,T(a,t);case 7:n=e.sent,e.next=13;break;case 10:return e.next=12,B(t);case 12:n=e.sent;case 13:200===n.status?L():P(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),P(),console.error(e.t0);case 20:d(!1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(a);case 3:n=e.sent,r=n.data.data.product,t&&t&&(k(r.name),U(r.logo_id),z(r.description),N.setFieldsValue({Name:r.name,ImageUrl:r.logo.url,Description:r.description})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(h.a.mark((function e(a,n){var r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(a,n);case 3:r=e.sent,c=[],200===r.status?(c=r.data.data.images.map((function(e){return{id:e.id,value:e.url}})),t&&u(c)):console.error("fail to fetch images"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return M(1,1e3),a&&A(a),function(){t=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Product Form"),r.a.createElement(E.a,Object.assign({},H,{form:N,name:"nest-messages",validateMessages:R}),r.a.createElement(E.a.Item,{name:"Name",label:"Name",rules:[{required:!0}]},r.a.createElement(y.a,{value:x,onChange:function(e){k(e.target.value)},placeholder:"Insert product name here"})),r.a.createElement(E.a.Item,{name:"ImageUrl",label:"Image Url",rules:[{required:!0}]},r.a.createElement(O.a,{options:i,onSelect:function(e,t){U(t.id)},placeholder:"Image name",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),r.a.createElement(E.a.Item,{name:"Description",label:"Description"},r.a.createElement(y.a.TextArea,{value:q,onChange:function(e){z(e.target.value)},placeholder:"Insert product description here"})),r.a.createElement(E.a.Item,{wrapperCol:Object(v.a)(Object(v.a)({},$),{},{offset:8})},r.a.createElement(j.a,{type:"primary",loading:m,onClick:W},"Submit"))))};function K(e){return G.apply(this,arguments)}function G(){return(G=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.post("/api/variant",t),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function Q(){return X.apply(this,arguments)}function X(){return(X=Object(g.a)(h.a.mark((function e(){var t,a,n,r=arguments;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:1,a=r.length>1&&void 0!==r[1]?r[1]:10,e.prev=2,n=k.get("/api/variants?page=".concat(t,"&per_page=").concat(a)),e.abrupt("return",n);case 7:e.prev=7,e.t0=e.catch(2),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[2,7]])})))).apply(this,arguments)}function Y(e){return Z.apply(this,arguments)}function Z(){return(Z=Object(g.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=k.get("/api/variant/".concat(t)),e.abrupt("return",a);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function ee(e,t){return te.apply(this,arguments)}function te(){return(te=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.put("/api/variant/".concat(t),a),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var ae={span:8},ne={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},re={required:"${label} is required!"},ce=function(e){var t=!0,a=e.match.params.variantId,c=Object(n.useState)([]),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(""),p=Object(l.a)(s,2),m=p[0],d=p[1],f=Object(n.useState)(""),b=Object(l.a)(f,2),x=(b[0],b[1]),k=Object(n.useState)(""),w=Object(l.a)(k,2),I=w[0],C=w[1],S=Object(n.useState)(""),U=Object(l.a)(S,2),F=U[0],_=U[1],q=Object(n.useState)(""),z=Object(l.a)(q,2),B=z[0],D=z[1],W=Object(n.useState)(!1),A=Object(l.a)(W,2),T=A[0],M=A[1],$=E.a.useForm(),H=Object(l.a)($,1)[0],R=function(){var e=Object(g.a)(h.a.mark((function e(){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&M(!0),n={name:I,size:F,color:B,product_id:m},e.prev=2,r={},!a){e.next=10;break}return e.next=7,ee(m,n);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,K(n);case 12:r=e.sent;case 13:200===r.status?L():P(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),P(),console.error(e.t0);case 20:t&&M(!1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(g.a)(h.a.mark((function e(){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,N(1,100);case 3:a=e.sent,n=[],200===a.status?(n=a.data.data.products.map((function(e){return{id:e.id,value:e.name}})),t&&u(n)):console.error("fail to fetch products"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:a=e.sent,n=a.data.data.product,x(n.name),H.setFieldsValue({Product:n.name}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),Q=function(){var e=Object(g.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(a);case 3:n=e.sent,G(n.data.data.variant.product_id),r=n.data.data.variant,a&&t&&(C(r.name),_(r.size),d(r.product_id),D(r.color),H.setFieldsValue({Name:r.name,Size:r.size,Color:r.color})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return J(),a&&Q(a),function(){t=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Variant Form"),r.a.createElement(E.a,Object.assign({},ne,{form:H,name:"nest-messages",validateMessages:re}),r.a.createElement(E.a.Item,{name:"Product",label:"Product",rules:[{required:!0}]},r.a.createElement(O.a,{style:{width:200},options:i,onSelect:function(e,t){d(t.id)},placeholder:"Insert product name",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),r.a.createElement(E.a.Item,{name:"Name",label:"Name",rules:[{required:!0}]},r.a.createElement(y.a,{value:I,onChange:function(e){C(e.target.value)}})),r.a.createElement(E.a.Item,{name:"Size",label:"Size",rules:[]},r.a.createElement(y.a,{value:F,onChange:function(e){_(e.target.value)}})),r.a.createElement(E.a.Item,{name:"Color",label:"Color",rules:[]},r.a.createElement(y.a,{value:B,onChange:function(e){D(e.target.value)}})),r.a.createElement(E.a.Item,{wrapperCol:Object(v.a)(Object(v.a)({},ae),{},{offset:8})},r.a.createElement(j.a,{type:"primary",loading:T,onClick:R},"Submit"))))},oe={labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}},le={required:"${label} is required!"},ie=function(e){var t=!0,a=e.match.params.imageId,c=Object(n.useState)(!1),o=Object(l.a)(c,2),i=o[0],u=o[1],s=Object(n.useState)(""),p=Object(l.a)(s,2),m=p[0],d=p[1],f=E.a.useForm(),b=Object(l.a)(f,1)[0],O=function(){var e=Object(g.a)(h.a.mark((function e(){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t&&u(!0),n={url:m},e.prev=2,r={},!a){e.next=10;break}return e.next=7,_(a,n);case 7:r=e.sent,e.next=13;break;case 10:return e.next=12,w(n);case 12:r=e.sent;case 13:200===r.status?L():P(),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(2),P(),console.error(e.t0);case 20:t&&u(!1);case 21:case"end":return e.stop()}}),e,null,[[2,16]])})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,U(a);case 3:n=e.sent,r=n.data.data.image,a&&t&&(d(r.url),b.setFieldsValue({ImageUrl:r.url})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return console.log("useEffect imageId :"+a),a&&x(a),function(){t=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Image Form"),r.a.createElement(E.a,Object.assign({},oe,{form:b,name:"nest-messages",validateMessages:le}),r.a.createElement(E.a.Item,{name:"ImageUrl",label:"Image Url",rules:[{required:!0}]},r.a.createElement(y.a,{value:m,onChange:function(e){t&&d(e.target.value)}})),r.a.createElement(E.a.Item,{wrapperCol:Object(v.a)(Object(v.a)({},oe.wrapperCol),{},{offset:8})},r.a.createElement(j.a,{type:"primary",loading:i,onClick:O},"Submit"))))},ue=a(67),se=a(327),pe=a(328);function me(e,t){return de.apply(this,arguments)}function de(){return(de=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.post("/api/product/".concat(t,"/images"),a),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}function fe(e,t){return ve.apply(this,arguments)}function ve(){return(ve=Object(g.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=k.post("/api/variant/".concat(t,"/images"),a),e.abrupt("return",n);case 5:e.prev=5,e.t0=e.catch(0),console.error(e.t0);case 8:case"end":return e.stop()}}),e,null,[[0,5]])})))).apply(this,arguments)}var be={required:"${label} is required!"},he=function(){var e=!0,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],p=u[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),f=d[0],v=d[1],b=Object(n.useState)(!1),y=Object(l.a)(b,2),x=y[0],k=y[1],w=Object(n.useState)([{value:"",id:"-1"}]),I=Object(l.a)(w,2),S=I[0],U=I[1],F=function(){var e=Object(ue.a)(S);e.push({value:"",id:"-1"}),U(e)},_=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t=S.map((function(e){return{image_id:e.id}})),e.prev=2,e.next=5,me(f,t);case 5:200===e.sent.status?L():P(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),P(),console.error(e.t0);case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){k(!1)}),2e3);var q=function(){var t=Object(g.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(1,1e3);case 3:a=t.sent,n=[],200===a.status?(n=a.data.data.products.map((function(e){return{id:e.id,value:e.name}})),e&&o(n)):console.error("fail to fetch products"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(a,n);case 3:r=t.sent,c=[],200===r.status?(c=r.data.data.images.map((function(e){return{id:e.id,value:e.url}})),e&&p(c)):console.error("fail to fetch images"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return q(),z(1,1e3),function(){e=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Image Form"),r.a.createElement(E.a,{labelCol:{span:2},wrapperCol:{span:16},name:"nest-messages",validateMessages:be},r.a.createElement(E.a.Item,{name:["user","product"],label:"Product",rules:[{required:!0}]},r.a.createElement(O.a,{style:{width:200},options:c,onSelect:function(e,t){v(t.id)},placeholder:"Insert product name",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),S.map((function(e,t){return r.a.createElement(E.a.Item,{key:t,label:"Image Url",rules:[{required:!0}]},r.a.createElement(E.a.Item,{style:{display:"inline-block",width:"calc(50% - 8px)"}},r.a.createElement(O.a,{options:s,onSelect:function(e,a){return function(e,t,a){var n=Object(ue.a)(S);n[a].id=t.id,n[a].value=e,U(n)}(e,a,t)},placeholder:"Image name",value:e.value,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),r.a.createElement(E.a.Item,{style:{display:"inline-block",marginLeft:16}},r.a.createElement(j.a,{style:{display:"inline-block",marginLeft:16},type:"primary",onClick:function(){return function(e){var t=Object(ue.a)(S);t.splice(e,1),U(t)}(t)},danger:!0,disabled:0===t&&1==S.length},r.a.createElement(se.a,null)),t===S.length-1&&r.a.createElement(j.a,{style:{display:"inline-block",marginLeft:16},type:"primary",onClick:F},r.a.createElement(pe.a,null))))})),r.a.createElement(j.a,{type:"primary",loading:x,onClick:_},"Submit")))},ge={required:"${label} is required!"},Ee=function(){var e=!0,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)([]),u=Object(l.a)(i,2),s=u[0],p=u[1],m=Object(n.useState)(""),d=Object(l.a)(m,2),f=d[0],v=d[1],b=Object(n.useState)(!1),y=Object(l.a)(b,2),x=y[0],k=y[1],w=Object(n.useState)([{value:"",id:"-1"}]),I=Object(l.a)(w,2),S=I[0],U=I[1],F=function(){var e=Object(ue.a)(S);e.push({value:"",id:"-1"}),U(e)},_=function(){var e=Object(g.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return k(!0),t=S.map((function(e){return{image_id:e.id}})),e.prev=2,e.next=5,fe(f,t);case 5:200===e.sent.status?L():P(),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),P(),console.error(e.t0);case 13:k(!1);case 14:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(){return e.apply(this,arguments)}}();setTimeout((function(){k(!1)}),2e3);var q=function(){var t=Object(g.a)(h.a.mark((function t(){var a,n;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q(1,1e3);case 3:a=t.sent,n=[],200===a.status?(n=a.data.data.variants.map((function(e){return{id:e.id,value:e.name}})),e&&o(n)):console.error("fail to fetch variants"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(){return t.apply(this,arguments)}}(),z=function(){var e=Object(g.a)(h.a.mark((function e(t,a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t,a);case 3:n=e.sent,r=[],200===n.status?(r=n.data.data.images.map((function(e){return{id:e.id,value:e.url}})),p(r)):console.error("fail to fetch images"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,a){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return q(),z(1,1e3),function(){e=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Image Form"),r.a.createElement(E.a,{labelCol:{span:2},wrapperCol:{span:16},name:"nest-messages",validateMessages:ge},r.a.createElement(E.a.Item,{name:["user","variant"],label:"Variant",rules:[{required:!0}]},r.a.createElement(O.a,{style:{width:200},options:c,onSelect:function(e,t){v(t.id)},placeholder:"Insert variant name",filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),S.map((function(e,t){return r.a.createElement(E.a.Item,{key:t,label:"Image Url",rules:[{required:!0}]},r.a.createElement(E.a.Item,{style:{display:"inline-block",width:"calc(50% - 8px)"}},r.a.createElement(O.a,{options:s,onSelect:function(e,a){return function(e,t,a){var n=Object(ue.a)(S);n[a].id=t.id,n[a].value=e,U(n)}(e,a,t)},placeholder:"Image name",value:e.value,filterOption:function(e,t){return-1!==t.value.toUpperCase().indexOf(e.toUpperCase())}})),r.a.createElement(E.a.Item,{style:{display:"inline-block",marginLeft:16}},r.a.createElement(j.a,{style:{display:"inline-block",marginLeft:16},type:"primary",onClick:function(){return function(e){var t=Object(ue.a)(S);t.splice(e,1),U(t)}(t)},danger:!0,disabled:0===t&&1==S.length},r.a.createElement(se.a,null)),t===S.length-1&&r.a.createElement(j.a,{style:{display:"inline-block",marginLeft:16},type:"primary",onClick:F},r.a.createElement(pe.a,null))))})),r.a.createElement(j.a,{type:"primary",loading:x,onClick:_},"Submit")))};a(302);var ye=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container"},e.children))};a(303);var Oe=function(e){return r.a.createElement("img",{src:e.imageUrl?e.imageUrl:"",alt:"image_logo",className:"image",style:e.style})};a(304);var je=function(e){return r.a.createElement("h2",{style:e.style,className:"title"},e.children)};a(305);var xe=function(e){return r.a.createElement("p",{style:e.style,className:"medium-text"},e.children)},ke=function(e){var t=e.name,a=e.logo,n=e.description,c=e.detailUrl,o=e.editUrl,l=e.parentID;return r.a.createElement(ye,null,a&&r.a.createElement(Oe,{imageUrl:a}),l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{style:{fontWeight:"bold"}},"ProductID: ",l)),r.a.createElement(je,{style:{marginLeft:10}},t),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{style:{fontWeight:"bold"}},"Description:"),r.a.createElement(xe,{style:{marginBottom:"16px"}},n)),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(i.b,{to:c||"#"},r.a.createElement(j.a,{type:"primary",danger:!0},"Detail")),r.a.createElement(i.b,{to:o||"#"},r.a.createElement(j.a,{style:{marginLeft:16},type:"primary"},"Edit"))))},we=function(e){var t=e.name,a=e.size,n=e.color,c=e.detailUrl,o=e.editUrl,l=e.parentID;return r.a.createElement(ye,null,l&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{style:{fontWeight:"bold"}},"ProductID: ",l)),r.a.createElement(je,{style:{marginLeft:10}},t),a&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{style:{fontWeight:"bold"}},"Size: ",a)),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement(xe,{style:{fontWeight:"bold"}},"Color: ",n)),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(i.b,{to:c||"#"},r.a.createElement(j.a,{type:"primary",danger:!0},"Detail")),r.a.createElement(i.b,{to:o||"#"},r.a.createElement(j.a,{style:{marginLeft:16},type:"primary"},"Edit"))))},Ie=function(e){var t=e.url_name,a=e.editUrl;return r.a.createElement(ye,null,r.a.createElement(je,{style:{marginLeft:10}},t),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(i.b,{to:a||"#"},r.a.createElement(j.a,{style:{marginLeft:16},type:"primary"},"Edit"))))},Ce=a(325),Se=function(){var e=!0,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),u=Object(l.a)(i,2),s=u[0],p=u[1],m=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,N(a,n);case 3:r=t.sent,c=[],l={},200===r.status?(c=r.data.data.products.map((function(e){return{id:e.id,name:e.name,description:e.description,logo:e.logo.url}})),l=r.data.data.paging,e&&(o(c),p({currentPage:l.current_page,total:l.count}))):console.error("fail to fetch products"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return m(1,10),function(){e=!1}}),[]),r.a.createElement("div",{style:{position:"relative",paddingBottom:72}},r.a.createElement("div",null,r.a.createElement("h1",{style:{fontSize:32}},"Product List"),c.map((function(e,t){return r.a.createElement(ke,{key:t,name:e.name,logo:e.logo,description:e.description,detailUrl:"/product/detail/"+e.id,editUrl:"/product/".concat(e.id)})}))),r.a.createElement("div",{style:{width:"100%",position:"absolute",bottom:0,display:"flex",justifyContent:"center"}},r.a.createElement(Ce.a,{defaultCurrent:1,total:s.total,current:s.currentPage,pageSize:10,onChange:function(e,t){m(e,t)}})))},Ue=function(){var e=!0,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),u=Object(l.a)(i,2),s=u[0],p=u[1],m=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Q(a,n);case 3:r=t.sent,c=[],l={},200===r.status?(c=r.data.data.variants.map((function(e){return{id:e.id,name:e.name,product_id:e.product_id}})),l=r.data.data.paging,e&&(o(c),p({currentPage:l.current_page,total:l.count}))):console.error("fail to fetch variants"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return m(1,10),function(){e=!1}}),[]),r.a.createElement("div",{style:{position:"relative",paddingBottom:72}},r.a.createElement("div",null,r.a.createElement("h1",null,"Variant List"),c.map((function(e,t){return r.a.createElement(we,{key:t,name:e.name,size:e.size,color:e.color,detailUrl:"/variant/detail/".concat(e.id),editUrl:"/variant/".concat(e.id),parentID:e.product_id})}))),r.a.createElement("div",{style:{width:"100%",position:"absolute",bottom:0,display:"flex",justifyContent:"center"}},r.a.createElement(Ce.a,{defaultCurrent:1,total:s.total,current:s.currentPage,pageSize:10,onChange:function(e,t){m(e,t)}})))},Fe=function(){var e=!0,t=Object(n.useState)([]),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({}),u=Object(l.a)(i,2),s=u[0],p=u[1],m=function(){var t=Object(g.a)(h.a.mark((function t(a,n){var r,c,l;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,C(a,n);case 3:r=t.sent,c=[],l={},200===r.status?(c=r.data.data.images.map((function(e){return{id:e.id,url_name:e.url}})),l=r.data.data.paging,e&&(o(c),p({currentPage:l.current_page,total:l.count}))):console.error("fail to fetch images logo"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,a){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return m(1,10),function(){e=!1}}),[]),r.a.createElement("div",{style:{position:"relative",paddingBottom:72}},r.a.createElement("div",null,r.a.createElement("h1",null,"Images List"),c.map((function(e,t){return r.a.createElement(Ie,{key:t,url_name:e.url_name,editUrl:"/image_logo/".concat(e.id)})}))),r.a.createElement("div",{style:{width:"100%",position:"absolute",bottom:0,display:"flex",justifyContent:"center"}},r.a.createElement(Ce.a,{defaultCurrent:1,total:s.total,current:s.currentPage,pageSize:10,onChange:function(e,t){m(e,t)}})))},_e=function(e){var t=!0,a=Object(n.useState)({id:"",logo:"",name:"",description:"",images:[],variants:[]}),c=Object(l.a)(a,2),o=c[0],i=c[1],u=function(){var e=Object(g.a)(h.a.mark((function e(a){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(a);case 3:n=e.sent,r=n.data.data.product,t&&i(r),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return u(e.match.params.productId),function(){t=!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:30}},"Product Detail"),r.a.createElement("div",{style:{borderBottom:"1px solid #ddd"}},r.a.createElement(Oe,{imageUrl:o.logo.url}),r.a.createElement(je,null,o.name),r.a.createElement(xe,{style:{fontWeight:"bold"}},"Description:"),r.a.createElement(xe,{style:{marginBottom:"16px"}},o.description)),r.a.createElement("h2",{style:{marginTop:32}},"Attached Images:"),r.a.createElement("div",{style:{paddingBottom:16,display:"flex",flexWrap:"wrap",borderBottom:"1px solid #ddd"}},o.images.map((function(e,t){return r.a.createElement(Oe,{key:t,imageUrl:e.url,style:{marginRight:16,border:"1px solid #ddd"}})}))),r.a.createElement("h2",{style:{marginTop:32}},"Variant:"),r.a.createElement("div",null,o.variants.map((function(e,t){return r.a.createElement(we,{key:t,name:e.name,size:e.size,color:e.color})}))))},qe=function(e){var t=Object(n.useState)({id:"",name:"",size:"",color:"",product_id:"",images:[]}),a=Object(l.a)(t,2),c=a[0],o=a[1],i=Object(n.useState)({id:"",name:"",description:""}),u=Object(l.a)(i,2),s=u[0],p=u[1],m=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Y(t);case 3:a=e.sent,d(a.data.data.variant.product_id),n=a.data.data.variant,o(n),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=Object(g.a)(h.a.mark((function e(t){var a,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V(t);case 3:a=e.sent,n=a.data.data.product,p(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(n.useEffect)((function(){return m(e.match.params.variantId),function(){!1}}),[]),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",{style:{fontSize:30}},"Variant Detail"),r.a.createElement("div",{style:{borderBottom:"1px solid #ddd"}},r.a.createElement(xe,{style:{fontWeight:"bold"}},"Product ID:"),r.a.createElement(je,null,s.id,", ",s.name)),r.a.createElement("div",{style:{borderBottom:"1px solid #ddd"}},r.a.createElement(xe,{style:{fontWeight:"bold"}},"Variant Name:"),r.a.createElement("h2",null,c.name)),r.a.createElement("div",{style:{borderBottom:"1px solid #ddd"}},r.a.createElement(xe,{style:{fontWeight:"bold"}},"Size:"),r.a.createElement("h2",null,c.size)),r.a.createElement("div",{style:{borderBottom:"1px solid #ddd"}},r.a.createElement(xe,{style:{fontWeight:"bold"}},"Color:"),r.a.createElement("h2",null,c.color)),r.a.createElement("h2",{style:{marginTop:32}},"Attached Images:"),r.a.createElement("div",{style:{paddingBottom:16,display:"flex",flexWrap:"wrap",borderBottom:"1px solid #ddd"}},c.images.map((function(e,t){return r.a.createElement(Oe,{key:t,imageUrl:e.url,style:{marginRight:16,border:"1px solid #ddd"}})}))))},ze=s.a.Header,Le=s.a.Content,Pe=s.a.Footer,Be=s.a.Sider,De=p.a.SubMenu;var Ne=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1];return r.a.createElement(i.a,null,r.a.createElement(s.a,{style:{minHeight:"100vh"}},r.a.createElement(Be,{collapsible:!0,collapsed:a,onCollapse:function(e){return c({collapsedParam:e})}},r.a.createElement(i.b,{to:"/"},r.a.createElement("div",{className:"logo",style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(f.a,{style:{color:"66788a"}}),r.a.createElement("h1",{className:"logo-text"},"\xa0 Home"))),r.a.createElement(p.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline"},r.a.createElement(De,{key:"sub1",icon:r.a.createElement(m.a,null),title:"Products"},r.a.createElement(p.a.Item,{key:"1"},r.a.createElement(i.b,{to:"/product/insert"},"Insert")),r.a.createElement(p.a.Item,{key:"2"},r.a.createElement(i.b,{to:"/product/images"},"Attach Image")),r.a.createElement(p.a.Item,{key:"3"},r.a.createElement(i.b,{to:"/product/list"},"List"))),r.a.createElement(De,{key:"sub2",icon:r.a.createElement(d.a,null),title:"Variants"},r.a.createElement(p.a.Item,{key:"4"},r.a.createElement(i.b,{to:"/variant/form"},"Insert")),r.a.createElement(p.a.Item,{key:"5"},r.a.createElement(i.b,{to:"/variant/images"},"Attach Images")),r.a.createElement(p.a.Item,{key:"6"},r.a.createElement(i.b,{to:"/variant/list"},"List"))),r.a.createElement(De,{key:"sub3",icon:r.a.createElement(d.a,null),title:"Images"},r.a.createElement(p.a.Item,{key:"7"},r.a.createElement(i.b,{to:"/image_logo/form"},"Insert")),r.a.createElement(p.a.Item,{key:"8"},r.a.createElement(i.b,{to:"/image_logo/list"},"List"))))),r.a.createElement(s.a,{className:"site-layout"},r.a.createElement(ze,{className:"site-layout-background",style:{padding:0,marginBottom:16}}),r.a.createElement(Le,{style:{margin:"0 16px"}},r.a.createElement("div",{className:"site-layout-background",style:{padding:24,minHeight:360}},r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:Se}),r.a.createElement(u.a,{path:"/product/insert",component:J}),r.a.createElement(u.a,{path:"/product/images",component:he}),r.a.createElement(u.a,{path:"/product/list",component:Se}),r.a.createElement(u.a,{path:"/product/detail/:productId",component:_e}),r.a.createElement(u.a,{path:"/product/:productId",component:J}),r.a.createElement(u.a,{path:"/variant/form",component:ce}),r.a.createElement(u.a,{path:"/variant/images",component:Ee}),r.a.createElement(u.a,{path:"/variant/list",component:Ue}),r.a.createElement(u.a,{path:"/variant/detail/:variantId",component:qe}),r.a.createElement(u.a,{path:"/variant/:variantId",component:ce}),r.a.createElement(u.a,{path:"/image_logo/form",component:ie}),r.a.createElement(u.a,{path:"/image_logo/list",component:Fe}),r.a.createElement(u.a,{path:"/image_logo/:imageId",component:ie}),r.a.createElement(u.a,{render:function(){return r.a.createElement("h1",null,"404 Not Found")}})))),r.a.createElement(Pe,{style:{textAlign:"center"}},"Ant Design \xa92018 Created by Ant UED"))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[170,1,2]]]);
//# sourceMappingURL=main.2e7c7602.chunk.js.map